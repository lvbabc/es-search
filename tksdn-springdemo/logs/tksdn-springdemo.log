2016-04-29 09:12:34,068 [main] INFO  org.eclipse.jetty.util.log [Line:186] - Logging initialized @1340ms
2016-04-29 09:12:34,326 [main] INFO  org.eclipse.jetty.server.Server [Line:327] - jetty-9.2.10.v20150310
2016-04-29 09:12:34,475 [main] INFO  / [Line:2052] - Initializing Spring root WebApplicationContext
2016-04-29 09:12:34,476 [main] INFO  o.s.web.context.ContextLoader [Line:285] - Root WebApplicationContext: initialization started
2016-04-29 09:12:34,558 [main] INFO  o.s.w.c.s.XmlWebApplicationContext [Line:510] - Refreshing Root WebApplicationContext: startup date [Fri Apr 29 09:12:34 CST 2016]; root of context hierarchy
2016-04-29 09:12:34,659 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader [Line:317] - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2016-04-29 09:12:35,333 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Line:153] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-04-29 09:12:35,664 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping [Line:220] - Mapped "{[/es/query],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object zx.soft.tksdn.spring.controller.QueryController.queryData(javax.servlet.http.HttpServletRequest)
2016-04-29 09:12:36,193 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter [Line:523] - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Apr 29 09:12:34 CST 2016]; root of context hierarchy
2016-04-29 09:12:36,259 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter [Line:523] - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Apr 29 09:12:34 CST 2016]; root of context hierarchy
2016-04-29 09:12:36,293 [main] INFO  o.s.web.context.ContextLoader [Line:325] - Root WebApplicationContext: initialization completed in 1817 ms
2016-04-29 09:12:36,297 [main] INFO  / [Line:2052] - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-12cdcf4'
2016-04-29 09:12:36,297 [main] INFO  o.s.web.servlet.DispatcherServlet [Line:484] - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-12cdcf4': initialization started
2016-04-29 09:12:36,318 [main] INFO  o.s.web.servlet.DispatcherServlet [Line:503] - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-12cdcf4': initialization completed in 21 ms
2016-04-29 09:12:36,324 [main] INFO  o.e.j.server.handler.ContextHandler [Line:744] - Started o.e.j.s.ServletContextHandler@4493d195{/,file:/home/lb/workspace/tksdn-search/tksdn-springdemo/target/classes/webapp/,AVAILABLE}
2016-04-29 09:12:36,449 [main] INFO  o.e.jetty.server.ServerConnector [Line:266] - Started ServerConnector@59ec2012{HTTP/1.1}{0.0.0.0:8900}
2016-04-29 09:12:36,449 [main] INFO  org.eclipse.jetty.server.Server [Line:379] - Started @3734ms
2016-04-29 09:12:36,449 [main] INFO  z.s.t.spring.server.QueryApiServer [Line:57 ] - Server started at port 8900
2016-04-29 09:12:41,523 [qtp1917513796-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  z.s.t.s.controller.QueryController [Line:41 ] - QueryParams [indexName=tekuan, indexType=record, preferenceType=, searchType=, includes=null, q=体育, termsAgg=src_ip, dateHistAgg=, term=, value=, hlfl=content, rangeFiled=, rangeStart=, rangeEnd=, timeZone=+08:00, sort=, from=0, size=10]
2016-04-29 09:12:41,530 [qtp1917513796-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  zx.soft.utils.config.ConfigUtil [Line:33 ] - Load resource: utils.properties
2016-04-29 09:12:41,531 [qtp1917513796-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  zx.soft.utils.config.ConfigUtil [Line:33 ] - Load resource: elasticsearch.properties
2016-04-29 09:12:41,966 [qtp1917513796-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  org.elasticsearch.plugins [Line:180] - [American Dream] modules [], plugins [], sites []
2016-04-29 09:12:42,006 [qtp1917513796-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] WARN  o.e.jetty.servlet.ServletHandler [Line:620] - 
org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchFieldError: LUCENE_5_5_0
	at org.springframework.web.servlet.DispatcherServlet.triggerAfterCompletionWithError(DispatcherServlet.java:1287) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:961) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:877) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) ~[javax.servlet-api-3.1.0.jar:3.1.0]
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:808) ~[jetty-servlet-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:587) [jetty-servlet-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [jetty-server-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [jetty-servlet-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [jetty-server-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [jetty-server-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.server.Server.handle(Server.java:497) [jetty-server-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [jetty-server-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [jetty-server-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540) [jetty-io-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [jetty-util-9.2.10.v20150310.jar:9.2.10.v20150310]
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [jetty-util-9.2.10.v20150310.jar:9.2.10.v20150310]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_60]
Caused by: java.lang.NoSuchFieldError: LUCENE_5_5_0
	at org.elasticsearch.Version.<clinit>(Version.java:295) ~[elasticsearch-2.3.2.jar:2.3.2]
	at org.elasticsearch.client.transport.TransportClient$Builder.build(TransportClient.java:129) ~[elasticsearch-2.3.2.jar:2.3.2]
	at zx.soft.tksdn.es.query.ESQueryCore.<init>(ESQueryCore.java:66) ~[classes/:na]
	at zx.soft.tksdn.es.query.ESQueryCore.<clinit>(ESQueryCore.java:55) ~[classes/:na]
	at zx.soft.tksdn.spring.service.QueryService.queryStringQuery(QueryService.java:25) ~[classes/:na]
	at zx.soft.tksdn.spring.controller.QueryController.queryData(QueryController.java:42) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_60]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_60]
	at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215) ~[spring-web-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132) ~[spring-web-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:781) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:721) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:943) ~[spring-webmvc-4.1.2.RELEASE.jar:4.1.2.RELEASE]
	... 20 common frames omitted
2016-04-29 09:20:07,000 [main] INFO  org.eclipse.jetty.util.log [Line:186] - Logging initialized @809ms
2016-04-29 09:20:07,164 [main] INFO  org.eclipse.jetty.server.Server [Line:327] - jetty-9.2.10.v20150310
2016-04-29 09:20:07,242 [main] INFO  / [Line:2052] - Initializing Spring root WebApplicationContext
2016-04-29 09:20:07,242 [main] INFO  o.s.web.context.ContextLoader [Line:285] - Root WebApplicationContext: initialization started
2016-04-29 09:20:07,318 [main] INFO  o.s.w.c.s.XmlWebApplicationContext [Line:510] - Refreshing Root WebApplicationContext: startup date [Fri Apr 29 09:20:07 CST 2016]; root of context hierarchy
2016-04-29 09:20:07,410 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader [Line:317] - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2016-04-29 09:20:07,910 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Line:153] - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-04-29 09:20:08,444 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping [Line:220] - Mapped "{[/es/query],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object zx.soft.tksdn.spring.controller.QueryController.queryData(javax.servlet.http.HttpServletRequest)
2016-04-29 09:20:09,094 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter [Line:523] - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Apr 29 09:20:07 CST 2016]; root of context hierarchy
2016-04-29 09:20:09,153 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter [Line:523] - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Apr 29 09:20:07 CST 2016]; root of context hierarchy
2016-04-29 09:20:09,189 [main] INFO  o.s.web.context.ContextLoader [Line:325] - Root WebApplicationContext: initialization completed in 1946 ms
2016-04-29 09:20:09,193 [main] INFO  / [Line:2052] - Initializing Spring FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-42d8062c'
2016-04-29 09:20:09,193 [main] INFO  o.s.web.servlet.DispatcherServlet [Line:484] - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-42d8062c': initialization started
2016-04-29 09:20:09,216 [main] INFO  o.s.web.servlet.DispatcherServlet [Line:503] - FrameworkServlet 'org.springframework.web.servlet.DispatcherServlet-42d8062c': initialization completed in 22 ms
2016-04-29 09:20:09,216 [main] INFO  o.e.j.server.handler.ContextHandler [Line:744] - Started o.e.j.s.ServletContextHandler@536aaa8d{/,file:/home/lb/workspace/tksdn-search/tksdn-springdemo/target/classes/webapp/,AVAILABLE}
2016-04-29 09:20:09,334 [main] INFO  o.e.jetty.server.ServerConnector [Line:266] - Started ServerConnector@4f7d0008{HTTP/1.1}{0.0.0.0:8900}
2016-04-29 09:20:09,334 [main] INFO  org.eclipse.jetty.server.Server [Line:379] - Started @3146ms
2016-04-29 09:20:09,335 [main] INFO  z.s.t.spring.server.QueryApiServer [Line:57 ] - Server started at port 8900
2016-04-29 09:20:20,924 [qtp459296537-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  z.s.t.s.controller.QueryController [Line:41 ] - QueryParams [indexName=tekuan, indexType=record, preferenceType=, searchType=, includes=null, q=体育, termsAgg=src_ip, dateHistAgg=, term=, value=, hlfl=content, rangeFiled=, rangeStart=, rangeEnd=, timeZone=+08:00, sort=, from=0, size=10]
2016-04-29 09:20:20,931 [qtp459296537-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  zx.soft.utils.config.ConfigUtil [Line:33 ] - Load resource: utils.properties
2016-04-29 09:20:20,931 [qtp459296537-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  zx.soft.utils.config.ConfigUtil [Line:33 ] - Load resource: elasticsearch.properties
2016-04-29 09:20:21,184 [qtp459296537-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  org.elasticsearch.plugins [Line:180] - [Vagabond] modules [], plugins [], sites []
2016-04-29 09:20:23,224 [qtp459296537-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  zx.soft.tksdn.es.query.ESQueryCore [Line:93 ] - {
  "query" : {
    "query_string" : {
      "query" : "体育"
    }
  },
  "aggregations" : {
    "src_ip" : {
      "terms" : {
        "field" : "src_ip",
        "size" : 15
      }
    }
  },
  "highlight" : {
    "pre_tags" : [ "<span style=\"color:red\">" ],
    "post_tags" : [ "</span>" ],
    "fragment_size" : 10000,
    "fields" : {
      "content" : { }
    }
  }
}
2016-04-29 09:20:24,671 [qtp459296537-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  zx.soft.tksdn.es.query.ESQueryCore [Line:119] - numFound=5436546
2016-04-29 09:20:24,671 [qtp459296537-15 - /es/query?q=%E4%BD%93%E8%82%B2&hlfl=content&agg=src_ip] INFO  zx.soft.tksdn.es.query.ESQueryCore [Line:120] - QTime=752
